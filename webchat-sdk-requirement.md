

# WebChat SDK 开发需求说明 #

SDK应该分为2层： 1.核心层包含了所有接口的调用，包括创建请求，收发消息，结束会话，满意度评价 2.UI层，包括了界面元素，有聊天消息窗口，聊天内容输入窗口等。

别人可以只使用核心SDK，自己开发UI界面；也可以直接使用我们现成的包含聊天功能的UI界面。

## SDK核心功能 ##

一. 登录：

    客户通过用户名和密码登录WebChat服务

二. 自动登录：

    客户端登录过一次后，下次可以直接调用自动登录

三. 退出登录：

    客户端可以选择登出WebChat

四. 注册消息：

    人工聊天是基于websocket的一套接口，因此需要注册相关事件用来相应收到的socket消息：
    注册连接状态监听
	    存在网络重连等情况，会收到相关重连状态事件
    注册消息监听（接收消息）
		接收各种消息事件，包括所有聊天消息类型
			1.文本消息
			2.图片，文件，语音，地图位置等消息
		系统消息
			1.排队成功，可以聊天
			2.客服人员变更
			3.新客服人员加入
			4.客服发出满意度推送
			5.客服关闭聊天会话

五. 发送机器人聊天信息：

    机器人聊天是基于http的一套接口，json格式数据传递。客户可以与机器人聊天来实现自助服务。
    消息发出后，就会有response，所以不需要针对机器人聊天来注册监听。

六. 发送人工聊天消息：

    客户可以发出多种聊天消息类型：
    1.发送文本消息
    2.发送图片，文件，语音，地图位置等消息
    3.发送视频消息（待实现）
    4.发送系统消息
	    请求排队，结束聊天，修改头像，修改名称，送满意度等等，系统消息，这类消息不作为消息历史


## SDK-UI库 ##

SDK核心库中，需要自己处理和调用的代码还是比较多的，需要对方有一定的开发量，好处在于对方可以完全自定义界面。而如果对方不需要那么高度的自定义UI，则可以选择直接使用我们的SDK的UI库。

<a href="http://docs.easemob.com/im/200androidclientintegration/135easeuiuseguide" target="_blank">
*引用自环信EaseUI使用说明*
![enter image description here](http://docs.easemob.com/_media/start/200androidcleintintegration/chat_widget_simple.png)
</a>

需要实现类似上图中的聊天界面，主要包括了：
1.TitleBar 标题栏，显示公司logo，返回按钮
2.ChatMessageList 消息列表面板
3.ChatInputMenu 消息输入框，包括语音输入，表情等其他消息类型选择
